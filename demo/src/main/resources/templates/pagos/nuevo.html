<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registrar Pago</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>

<h1 class="text-center">ðŸ’µ Registrar Pago</h1>
<div th:replace="~{layout/navbar :: navbar}"></div>

<main class="container mt-4">

    <h2>Pedido NÂ° <span th:text="${pedido.idPedido}"></span></h2>
    <h4>Total: $<span th:text="${pedido.total}"></span></h4>
    <h4>Total Pagado: $<span th:text="${totalPagado}"></span></h4>

    <hr>

    <form th:action="@{/pagos/guardar}" th:object="${pago}" method="post">

        <input type="hidden" th:field="*{pedido.idPedido}">


        <div class="mb-3">
            <label class="form-label">Monto del pago</label>
            <input type="number" class="form-control" step="0.01" min="0.01" required
                   th:field="*{montoPago}">
        </div>

        <div class="mb-3">
            <label class="form-label">Cliente</label>
            <select class="form-select" th:field="*{cliente}" required>
                <option value="">Seleccione un cliente</option>
                <option th:each="c : ${clientes}"
                        th:value="${c.idCliente}"
                        th:text="${c.nombre}">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label for="metodoPago" class="form-label">MÃ©todo de Pago</label>
            <select id="metodoPago" th:field="*{metodoPago}" class="form-select" required>
                <option value="">Seleccione...</option>

                <option th:value="Efectivo">Efectivo</option>
                <option th:value="Tarjeta_Credito">Tarjeta CrÃ©dito</option>
                <option th:value="Tarjeta_Debito">Tarjeta DÃ©bito</option>
                <option th:value="Neki">Nequi</option>
            </select>
        </div>

        <button class="btn btn-primary">Guardar Pago</button>

        <a th:href="@{/pagos/listar/{id}(id=${pedido.idPedido})}"
           class="btn btn-secondary">
            Cancelar
        </a>
    </form>

</main>

</body>
</html>
